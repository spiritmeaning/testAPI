<!DOCTYPE html>
<html>

<head>
    <title>Add Menus and Submenus</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/spiritmeaning/newstyle/style.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Custom JS -->
    <script src="/spiritmeaning/MenuMaintain/js/script.js"></script>

</head>

<body>
    <script>
        // Create container element
        var container = document.createElement('div');
        container.classList.add('container');

        // Create h1 element
        var heading = document.createElement('h1');
        heading.textContent = 'Add Menus and Submenus';
        container.appendChild(heading);

        // Create Add Menu Form
        var addMenuForm = document.createElement('div');
        addMenuForm.classList.add('mb-3');

        var addMenuFormTitle = document.createElement('h2');
        addMenuFormTitle.textContent = 'Add Menu';
        addMenuForm.appendChild(addMenuFormTitle);

        var addMenuFormElement = document.createElement('form');
        addMenuFormElement.id = 'addMenuForm';

        var rowDiv = document.createElement('div');
        rowDiv.classList.add('row');
        rowDiv.id="rowDiv";

        var menuLabelDiv = document.createElement('div');
        menuLabelDiv.classList.add('col-md-6');

        var menuLabelLabel = document.createElement('label');
        menuLabelLabel.setAttribute('for', 'menuLabel');
        menuLabelLabel.classList.add('form-label');
        menuLabelLabel.textContent = 'Menu Label';
        menuLabelDiv.appendChild(menuLabelLabel);

        var menuLabelInput = document.createElement('input');
        menuLabelInput.type = 'text';
        menuLabelInput.classList.add('form-control');
        menuLabelInput.id = 'menuLabel';
        menuLabelInput.required = false;
        menuLabelDiv.appendChild(menuLabelInput);

        rowDiv.appendChild(menuLabelDiv);

        var menuLinkDiv = document.createElement('div');
        menuLinkDiv.classList.add('col-md-6');

        var menuLinkLabel = document.createElement('label');
        menuLinkLabel.setAttribute('for', 'menuLink');
        menuLinkLabel.classList.add('form-label');
        menuLinkLabel.textContent = 'Menu Link';
        menuLinkDiv.appendChild(menuLinkLabel);

        var menuLinkInput = document.createElement('input');
        menuLinkInput.type = 'text';
        menuLinkInput.classList.add('form-control');
        menuLinkInput.id = 'menuLink';
        menuLinkInput.required = false;
        menuLinkDiv.appendChild(menuLinkInput);

        rowDiv.appendChild(menuLinkDiv);

        addMenuFormElement.appendChild(rowDiv);
        var menuListContainer = document.createElement('div');
        menuListContainer.classList.add('col-md-6');

        var menuListLabel = document.createElement('label');
        menuListLabel.setAttribute('for', 'menuList');
        menuListLabel.classList.add('form-label');
        menuListLabel.textContent = 'Existing Menus to be Linked with SubMenus';
        menuListContainer.appendChild(menuListLabel);




        // AJAX request to fetch menu items
        var fetchMenuItems = function () {
            // Perform AJAX request to fetch menu items
            var menuListSelect = document.createElement('select');
            $.ajax({
                type: 'GET',
                url: '/spiritmeaning/MenuMaintain/php/fetchMenuItems.php', // Update the path to the PHP file
                success: function (response) {
                    // Parse the JSON response
                    var menuItems = JSON.parse(response);
                    // menuListSelect.id = 'menuSelect';
                    // Clear the menu select options
                    menuListSelect.innerHTML = '';

                    // Loop through the menu items and add them to the select options
                    menuItems.forEach(function (menuItem) {
                        var option = document.createElement('option');
                        option.value = menuItem.id;
                        option.textContent = menuItem.label;
                        menuListSelect.appendChild(option);
                        //console.log(menuItem);
                    });

                    menuListSelect.classList.add('form-select');
                    menuListSelect.id = 'menuList';
                    menuListSelect.required = true;
                    menuListContainer.appendChild(menuListSelect);

                    // Append the menuListContainer to the form
                    var addMenuForm = document.getElementById('addMenuForm');
                    addMenuForm.appendChild(menuListContainer);
                    var deleteBtnDiv = document.createElement('div');
                    deleteBtnDiv.classList.add('col-md-6');


                    var deleteMenuButton = document.createElement('button');
                    deleteMenuButton.classList.add('btn', 'btn-danger', 'deleteBtnMenu');
                    deleteMenuButton.textContent = 'Delete Menu';
                    menuListContainer.appendChild(deleteMenuButton);


                }



            });

        };

        // Call fetchMenuItems function to populate the menu items on page load
        fetchMenuItems();








        var addMenuButton = document.createElement('button');
        addMenuButton.type = 'submit';
        addMenuButton.classList.add('btn', 'btn-primary','addBtnMenu');
        addMenuButton.textContent = 'Add Menu';
        addMenuFormElement.appendChild(addMenuButton);



        addMenuForm.appendChild(addMenuFormElement);
        container.appendChild(addMenuForm);

        // Create Add Submenu Form
        var addSubmenuForm = document.createElement('div');
        addSubmenuForm.classList.add('mb-3');

        var addSubmenuFormTitle = document.createElement('h2');
        addSubmenuFormTitle.textContent = 'Add Submenu';
        addSubmenuForm.appendChild(addSubmenuFormTitle);

        var addSubmenuFormElement = document.createElement('form');
        addSubmenuFormElement.id = 'addSubmenuForm';

        var submenuRowDiv = document.createElement('div');
        submenuRowDiv.classList.add('row');

        var submenuLabelDiv = document.createElement('div');
        submenuLabelDiv.classList.add('col-md-6');

        var submenuLabelLabel = document.createElement('label');
        submenuLabelLabel.setAttribute('for', 'submenuLabel');
        submenuLabelLabel.classList.add('form-label');
        submenuLabelLabel.textContent = 'Submenu Label';
        submenuLabelDiv.appendChild(submenuLabelLabel);

        var submenuLabelInput = document.createElement('input');
        submenuLabelInput.type = 'text';
        submenuLabelInput.classList.add('form-control');
        submenuLabelInput.id = 'submenuLabel';
        submenuLabelInput.required = true;
        submenuLabelDiv.appendChild(submenuLabelInput);

        submenuRowDiv.appendChild(submenuLabelDiv);

        var submenuLinkDiv = document.createElement('div');
        submenuLinkDiv.classList.add('col-md-6');

        var submenuLinkLabel = document.createElement('label');
        submenuLinkLabel.setAttribute('for', 'submenuLink');
        submenuLinkLabel.classList.add('form-label');
        submenuLinkLabel.textContent = 'Submenu Link';
        submenuLinkDiv.appendChild(submenuLinkLabel);

        var submenuLinkInput = document.createElement('input');
        submenuLinkInput.type = 'text';
        submenuLinkInput.classList.add('form-control');
        submenuLinkInput.id = 'submenuLink';
        submenuLinkInput.required = true;
        submenuLinkDiv.appendChild(submenuLinkInput);

        submenuRowDiv.appendChild(submenuLinkDiv);

        addSubmenuFormElement.appendChild(submenuRowDiv);

        var addSubmenuButton = document.createElement('button');
        addSubmenuButton.type = 'submit';
        addSubmenuButton.classList.add('btn', 'btn-primary');
        addSubmenuButton.textContent = 'Add Submenu';
        addSubmenuFormElement.appendChild(addSubmenuButton);

        addSubmenuForm.appendChild(addSubmenuFormElement);
        container.appendChild(addSubmenuForm);

        // Create Menu and Submenu List
        var menuSubmenuListContainer = document.createElement('div');

        var menuSubmenuListTitle = document.createElement('h2');
        menuSubmenuListTitle.textContent = 'Menu and Submenu List';
        menuSubmenuListContainer.appendChild(menuSubmenuListTitle);

        var menuSubmenuTable = document.createElement('table');
        menuSubmenuTable.classList.add('table');

        var tableHead = document.createElement('thead');
        var tableHeadRow = document.createElement('tr');

        var menuLabelHead = document.createElement('th');
        menuLabelHead.textContent = 'Menu Label';
        tableHeadRow.appendChild(menuLabelHead);

        var menuLinkHead = document.createElement('th');
        menuLinkHead.textContent = 'Menu Link';
        tableHeadRow.appendChild(menuLinkHead);

        var submenuLabelHead = document.createElement('th');
        submenuLabelHead.textContent = 'Submenu Label';
        tableHeadRow.appendChild(submenuLabelHead);

        var submenuLinkHead = document.createElement('th');
        submenuLinkHead.textContent = 'Submenu Link';
        tableHeadRow.appendChild(submenuLinkHead);

        var actionsHead = document.createElement('th');
        actionsHead.textContent = 'Actions';
        tableHeadRow.appendChild(actionsHead);

        tableHead.appendChild(tableHeadRow);
        menuSubmenuTable.appendChild(tableHead);

        var tableBody = document.createElement('tbody');
        tableBody.id = 'menuSubmenuList';
        menuSubmenuTable.appendChild(tableBody);

        menuSubmenuListContainer.appendChild(menuSubmenuTable);
        container.appendChild(menuSubmenuListContainer);

        // Append the container to the document body
        document.body.appendChild(container);

    </script>

</body>

</html>